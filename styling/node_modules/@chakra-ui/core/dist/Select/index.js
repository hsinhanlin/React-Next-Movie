"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutPropertiesLoose2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutPropertiesLoose"));

var _core = require("@emotion/core");

var _Icon = _interopRequireDefault(require("../Icon"));

var _react = require("react");

var _Input = _interopRequireDefault(require("../Input"));

var _ColorModeProvider = require("../ColorModeProvider");

var _Box = _interopRequireDefault(require("../Box"));

/** @jsx jsx */
var Select = (0, _react.forwardRef)(function (_ref, ref) {
  var children = _ref.children,
      size = _ref.size,
      placeholder = _ref.placeholder,
      form = _ref.form,
      onChange = _ref.onChange,
      onBlur = _ref.onBlur,
      onKeyDown = _ref.onKeyDown,
      onKeyUp = _ref.onKeyUp,
      onKeyPress = _ref.onKeyPress,
      onFocus = _ref.onFocus,
      autoFocus = _ref.autoFocus,
      isDisabled = _ref.isDisabled,
      isInvalid = _ref.isInvalid,
      isRequired = _ref.isRequired,
      name = _ref.name,
      id = _ref.id,
      isReadOnly = _ref.isReadOnly,
      focusBorderColor = _ref.focusBorderColor,
      variant = _ref.variant,
      ariaLabel = _ref["aria-label"],
      ariaDescribedby = _ref["aria-describedby"],
      value = _ref.value,
      defaultValue = _ref.defaultValue,
      selectProps = _ref.selectProps,
      rest = (0, _objectWithoutPropertiesLoose2["default"])(_ref, ["children", "size", "placeholder", "form", "onChange", "onBlur", "onKeyDown", "onKeyUp", "onKeyPress", "onFocus", "autoFocus", "isDisabled", "isInvalid", "isRequired", "name", "id", "isReadOnly", "focusBorderColor", "variant", "aria-label", "aria-describedby", "value", "defaultValue", "selectProps"]);

  var _useColorMode = (0, _ColorModeProvider.useColorMode)(),
      colorMode = _useColorMode.colorMode;

  var themedColor = colorMode === "dark" ? "whiteAlpha.800" : "inherit";
  var opacity = isReadOnly || isDisabled ? 0.5 : null;
  return (0, _core.jsx)(_Box["default"], (0, _extends2["default"])({
    position: "relative",
    width: "100%",
    color: themedColor
  }, rest), (0, _core.jsx)(_Input["default"], (0, _extends2["default"])({
    as: "select",
    size: size,
    appearance: "none",
    ref: ref,
    pr: "2rem",
    pb: "px",
    lineHeight: "normal"
  }, {
    form: form,
    placeholder: placeholder,
    onChange: onChange,
    onBlur: onBlur,
    onKeyDown: onKeyDown,
    onKeyUp: onKeyUp,
    onKeyPress: onKeyPress,
    onFocus: onFocus,
    autoFocus: autoFocus,
    isDisabled: isDisabled,
    isInvalid: isInvalid,
    isRequired: isRequired,
    value: value,
    defaultValue: defaultValue,
    name: name,
    id: id,
    isReadOnly: isReadOnly,
    focusBorderColor: focusBorderColor,
    variant: variant,
    "aria-label": ariaLabel,
    "aria-describedby": ariaDescribedby
  }, selectProps), placeholder && (0, _core.jsx)("option", {
    value: ""
  }, placeholder), children), (0, _core.jsx)(_Box["default"], {
    position: "absolute",
    display: "inline-flex",
    width: "1.5rem",
    height: "100%",
    alignItems: "center",
    justifyContent: "center",
    right: "0.5rem",
    top: "50%",
    pointerEvents: "none",
    opacity: opacity,
    zIndex: 2,
    transform: "translateY(-50%)"
  }, (0, _core.jsx)(_Icon["default"], {
    name: "chevron-down",
    color: "currentColor",
    size: "20px"
  })));
});
Select.displayName = "Select";
var _default = Select;
exports["default"] = _default;